<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>轮播demo</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/style.css">

</head>
<body id="login">
   <div class="update">
       <p>您的浏览器版本太低，拖慢上网速度且存在安全隐患，建议使用谷歌、360等浏览器浏览，或<a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie">更新版本</a><a href="javascript:;" class="closes">X</a></p>
   </div>

   <div class="main">
<!--整体容器-->
    <div class="imgbox">
        <!--图片列表，除第一张显示外，其余隐藏-->
        <ul class="img-box">
            <li style="display: block;">
               <p>HELLO</p>
               <p>WORLD</p>
           </li>
            <li>
               <p>HELLO</p>
               <p>WORLD</p>            
            </li>
            <li>
               <p>HELLO</p>
               <p>WORLD</p>
            </li>            
        </ul>
        <!--图片序号-->
        <div class="pager common">
            <ul>
                <li>3</li>
                <li>2</li>
                <li style="background: #258bdd;">1</li>
            </ul>
        </div>
    </div>
   </div>
</body>
<script src="js/jquery.min.js"></script>
<script>
(function($){
 $(document).ready(function () {
            (new CenterImgPlay()).Start();
        });
        function CenterImgPlay() {
            this.list = $(".imgbox").children(":first").children();
            this.indexs = [];
            this.length = this.list.length;
            //图片显示时间
            this.timer = 3000;

            var index = 0, self = this, pre = 0, handid, isPlay = false, isPagerClick = false;

            this.Start = function () {
                this.Init();
                //计时器，用于定时轮播图片
                handid = setInterval(self.Play, this.timer);
            };
            //初始化
            this.Init = function () {
                var o = $(".pager ul li");

                for (var i = o.length - 1, n = 0; i >= 0; i--, n++) {
                    this.indexs[n] = o.eq(i).click(self.PagerClick);
                }
            };
            this.Play = function () {
                isPlay = true;
                index++;
                if (index == self.length) {
                    index = 0;
                }
                //先淡出，在回调函数中执行下一张淡入
                self.list.eq(pre).fadeOut(300, "linear", function () {
                    var info = self.list.eq(index).fadeIn(500, "linear", function () {
                        isPlay = false;
                        if (isPagerClick) { handid = setInterval(self.Play, self.timer); isPagerClick = false; }
                    }).attr("title");
                    //图片序号背景更换
                    self.indexs[index].css("background-color", "#258bdd");
                    self.indexs[pre].css("background-color", "#c8c8c8");

                    pre = index;
                });
            };
            //图片序号点击
            this.PagerClick = function () {
                if (isPlay) { return; }
                isPagerClick = true;

                clearInterval(handid);

                var oPager = $(this), i = parseInt(oPager.text()) - 1;

                if (i != pre) {
                    index = i - 1;
                    self.Play();
                }
            };
        };

if(navigator.appName == "Microsoft Internet Explorer" && navigator.appVersion .split(";")[1].replace(/[ ]/g,"")=="MSIE6.0") 
{ 
 $(".update").show()
} 
else if(navigator.appName == "Microsoft Internet Explorer" && navigator.appVersion .split(";")[1].replace(/[ ]/g,"")=="MSIE7.0") 
{ 
 $(".update").show()
} 
else if(navigator.appName == "Microsoft Internet Explorer" && navigator.appVersion .split(";")[1].replace(/[ ]/g,"")=="MSIE8.0") 
{ 
 $(".update").show()
} 
else if(navigator.appName == "Microsoft Internet Explorer" && navigator.appVersion .split(";")[1].replace(/[ ]/g,"")=="MSIE9.0") 
{ 
 $(".update").show()
} 

$(".closes").click(function(){
  $(".update").hide()
})

})(jQuery); 
</script>
</html>